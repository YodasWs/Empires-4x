"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e){r.d(n,o,function(t){return e[t]}.bind(null,o))}return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){window.json={},r(2),json.world=r(3),yodasws.page("home").setRoute({template:"pages/home.html",route:"/"}).on("load",function(){})},function(e,t){var r={moveU:{src:"img/actions/moveU.png",key:"u"},moveI:{src:"img/actions/moveI.png",key:"i"},moveO:{src:"img/actions/moveO.png",key:"o"},moveJ:{src:"img/actions/moveJ.png",key:"j"},moveK:{src:"img/actions/moveK.png",key:"k"},moveL:{src:"img/actions/moveL.png",key:"l"}},n={type:Phaser.AUTO,height:600,width:800,scene:{preload:function preload(){var _this=this;Object.entries(json.world.terrains).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),e=_ref2[0],t=_ref2[1];_this.load.image("tile."+e,"img/tiles/"+t.tile+".png")}),this.load.image("activeUnit","img/activeUnit.png"),Object.entries(r).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),e=_ref4[0],t=_ref4[1];_this.load.image(e,t.src)})},create:function create(){var _this2=this;json.world.world.forEach(function(e,t){e.forEach(function(e,r){var _ref5=function(e,t){return{x:o(e,t),y:i(e,t)}}(t,r),n=_ref5.x,a=_ref5.y;Object.assign(e,{sprite:_this2.add.tileSprite(n,a,200,200,"tile."+e.terrain).setScale(.5),text:_this2.add.text(n-50,a+100/3,t+"\xD7"+r,{fixedWidth:200,font:"12pt Courier",align:"center",color:"white"}).setOrigin(0).setScale(.5)})})})},update:function update(){}}};function o(e,t){return t||0===t?200*t*74/100*.5+20:-300}function i(e,t){return!e&&0!==e||!t&&0!==t?-300:200*e*86/100*.5+(t%2?43:0)}yodasws.page("pageGame").setRoute({template:"pages/game/game.html",canonicalRoute:"/game/",route:"/game/?"}).on("load",function(){console.log("Sam, json:",json);new Phaser.Game(Object.assign({},n,{parent:document.querySelector("main")}))})},function(e){e.exports=JSON.parse("{\"terrains\":{\"ocean\":{\"tile\":\"water\"},\"lake\":{\"tile\":\"water\"},\"grass\":{\"tile\":\"grass\"},\"desert\":{\"tile\":\"grass\"},\"mountain\":{\"tile\":\"grass\"},\"hill\":{\"tile\":\"grass\"}},\"river\":{},\"resources\":{\"gold\":{},\"copper\":{}},\"world\":[[{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"}],[{\"terrain\":\"grass\"},{\"terrain\":\"grass\",\"river\":true}],[{\"terrain\":\"desert\"},{\"terrain\":\"desert\",\"river\":true}],[{\"terrain\":\"mountain\"},{\"terrain\":\"hill\"}]]}")}]);