"use strict";(()=>{var e={357:()=>{"use strict";function e(e,r,n){t(e,r),r.set(e,n)}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,t,r){return e.set(i(e,t),r),r}function n(e,t){return e.get(i(e,t))}function i(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var w=function(e){return Number.isFinite(e)&&!Number.isNaN(e)},x=function(e){return"object"==v(e)&&null!==e},b=function(e){return x(e)&&w(e.col)&&w(e.row)},k=function(e){return Array.isArray(e)&&w(e[0])&&w(e[1])},O=function(e,t){return t+e*(1&t)>>1},S=function(e,t){return function(e){return(e%8+8)%8}(e+t)},q=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),r=t[0],n=t[1],i=t[2];return{q:r,r:n,s:void 0===i?-r-n:i}};function T(e){var t=e.q,r=e.r,n=e.s,i=w(t),o=w(r),a=w(n);if(i&&o&&a)return{q:t,r,s:n};if(i&&o)return{q:t,r,s:-t-r};if(i&&a)return{q:t,r:-t-n,s:n};if(o&&a)return{q:-r-n,r,s:n};throw new TypeError("Can't determine three cube coordinates from less than two coordinates. Received: { q: ".concat(t,", r: ").concat(r,", s: ").concat(n," }."))}var P=function(e){return e.FLAT="FLAT",e.POINTY="POINTY",e}(P||{});var j=function(){return d(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0];h(this,e),y(this,"q",void 0),y(this,"r",void 0);var r=D(this,t),n=r.q,i=r.r;this.q=n,this.r=i},[{key:"center",get:function(){var e=this.width,t=this.height;return{x:e/2-this.x,y:t/2-this.y}}},{key:"col",get:function(){return N(this).col}},{key:"corners",get:function(){var e=this.orientation,t=this.width,r=this.height,n=this.x,i=this.y;return e===P.POINTY?C(t,r,n,i):A(t,r,n,i)}},{key:"dimensions",get:function(){return E.dimensions}},{key:"height",get:function(){var e=this.orientation,t=this.dimensions.yRadius;return e===P.POINTY?2*t:t*Math.sqrt(3)}},{key:"isFlat",get:function(){return this.orientation===P.FLAT}},{key:"isPointy",get:function(){return this.orientation===P.POINTY}},{key:"orientation",get:function(){return E.orientation}},{key:"origin",get:function(){return E.origin}},{key:"offset",get:function(){return E.offset}},{key:"row",get:function(){return N(this).row}},{key:"width",get:function(){var e=this.orientation,t=this.dimensions.xRadius;return e===P.POINTY?t*Math.sqrt(3):2*t}},{key:"x",get:function(){return R(this).x}},{key:"y",get:function(){return R(this).y}},{key:"s",get:function(){return-this.q-this.r}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return new this.constructor(e)}},{key:"equals",value:function(e){return function(e,t){if(b(e)&&b(t))return e.col===t.col&&e.row===t.row;if(Object.hasOwn(e,"col")||Object.hasOwn(t,"col"))throw new Error("Can't compare coordinates where one are offset coordinates. Either pass two offset coordinates or two axial/cube coordinates. Received: ".concat(JSON.stringify(e)," and ").concat(JSON.stringify(t)));var r=k(e)?q(e):e,n=k(t)?q(t):t;return r.q===n.q&&r.r===n.r}(this,b(e)?H(this,e):e)}},{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.q,",").concat(this.r,")")}},{key:"translate",value:function(e){return function(e,t){var r=T(e),n=r.q,i=r.r,o=r.s,a=T(t),s={q:n+a.q,r:i+a.r,s:o+a.s};return e instanceof j?e.clone(s):s}(this,e)}}],[{key:"settings",get:function(){var e=this.prototype;return{dimensions:e.dimensions,orientation:e.orientation,origin:e.origin,offset:e.offset}}}])}(),E={dimensions:{xRadius:1,yRadius:1},orientation:P.POINTY,origin:{x:0,y:0},offset:-1},C=function(e,t,r,n){return[{x:r+.5*e,y:n-.25*t},{x:r+.5*e,y:n+.25*t},{x:r,y:n+.5*t},{x:r-.5*e,y:n+.25*t},{x:r-.5*e,y:n-.25*t},{x:r,y:n-.5*t}]},A=function(e,t,r,n){return[{x:r+.25*e,y:n-.5*t},{x:r+.5*e,y:n},{x:r+.25*e,y:n+.5*t},{x:r-.25*e,y:n+.5*t},{x:r-.5*e,y:n},{x:r-.25*e,y:n-.5*t}]};function U(e){var t=u(u({},E),e),r=t.dimensions,n=t.orientation,i=t.origin,o=t.offset;return function(e){function t(){return h(this,t),function(e,t,r){return t=s(t),function(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(t,e),d(t,[{key:"dimensions",get:function(){return function(e,t){if(x(e)&&e.xRadius>0&&e.yRadius>0)return e;if(x(e)&&e.width>0&&e.height>0){var r=e.width,n=e.height;return t===P.POINTY?{xRadius:r/Math.sqrt(3),yRadius:n/2}:{xRadius:r/2,yRadius:n/Math.sqrt(3)}}if(e>0)return{xRadius:e,yRadius:e};throw new TypeError("Invalid dimensions: ".concat(JSON.stringify(e),". Dimensions must be expressed as an Ellipse ({ xRadius: number, yRadius: number }), a Rectangle ({ width: number, height: number }) or a number."))}(r,n)}},{key:"orientation",get:function(){return n}},{key:"origin",get:function(){return function(e,t){if(function(e){return x(e)&&w(e.x)&&w(e.y)}(e))return e;if(!t)throw new TypeError("Supply a bounding box ({ width: number, height: number }). Received: ".concat(JSON.stringify(t)));if("topLeft"===e)return{x:-.5*t.width,y:-.5*t.height};throw new TypeError("Invalid origin: ".concat(JSON.stringify(e),". Origin must be expressed as a Point ({ x: number, y: number }) or the string 'topLeft'."))}(i,this)}},{key:"offset",get:function(){return o}}])}(j)}var N=function(e){var t=e.q,r=e.r,n=e.offset;return e.isPointy?function(e,t,r){return{col:e+O(r,t),row:t}}(t,r,n):function(e,t,r){return{col:e,row:t+O(r,e)}}(t,r,n)},R=function(e){var t=e.orientation,r=e.dimensions,n=r.xRadius,i=r.yRadius,o=e.origin,a=o.x,s=o.y,c=e.q,l=e.r;return t===P.POINTY?{x:n*Math.sqrt(3)*(c+l/2)-a,y:3*i/2*l-s}:{x:3*n/2*c-a,y:i*Math.sqrt(3)*(l+c/2)-s}},M=function(e,t,r){var n=e-O(r,t);return{q:n,r:t,s:-n-t}},I=function(e,t,r){var n=e,i=t-O(r,e);return{q:n,r:i,s:-n-i}},H=function(e,t){var r=e.offset,n=e.orientation,i=t.col,o=t.row;return n===P.POINTY?M(i,o,r):I(i,o,r)},W=function(e){var t=T(e),r=t.q,n=t.r,i=t.s,o=Math.round(r),a=Math.round(n),s=Math.round(i),c=Math.abs(r-o),l=Math.abs(n-a),u=Math.abs(i-s);return c>l&&c>u?o=-a-s:l>u?a=-o-s:s=-o-a,{q:o,r:a,s}};function D(e,t){return k(t)?q(t):b(t)?H(e,t):T(t)}function L(e,t,r){var n=D(e,t),i=n.q,o=n.r,a=n.s,s=D(e,r),c=s.q,l=s.r,u=s.s;return Math.max(Math.abs(i-c),Math.abs(o-l),Math.abs(a-u))}var V=function(e){return e.CLOCKWISE="CLOCKWISE",e.COUNTERCLOCKWISE="COUNTERCLOCKWISE",e}(V||{}),_=function(e){return e[e.N=0]="N",e[e.NE=1]="NE",e[e.E=2]="E",e[e.SE=3]="SE",e[e.S=4]="S",e[e.SW=5]="SW",e[e.W=6]="W",e[e.NW=7]="NW",e}(_||{}),$=[null,{q:1,r:-1},{q:1,r:0},{q:0,r:1},null,{q:-1,r:1},{q:-1,r:0},{q:0,r:-1}],Y=[{q:0,r:-1},{q:1,r:-1},null,{q:1,r:0},{q:0,r:1},{q:-1,r:1},null,{q:-1,r:0}],F=function(e,t){return e.clone(e.isPointy?function(e,t){var r=e.offset,n=e.q,i=e.r,o=e.col,a=e.row;if(t===_.S||t===_.N){var s=t===_.S?a+1:a-1;return M(o,s,r)}var c=$[t];return{q:n+c.q,r:i+c.r}}(e,t):function(e,t){var r=e.offset,n=e.q,i=e.r,o=e.col,a=e.row;if(t===_.E||t===_.W){var s=t===_.E?o+1:o-1;return I(s,a,r)}var c=Y[t];return{q:n+c.q,r:i+c.r}}(e,t))};function G(e){return Array.isArray(e)?function(t,r){var n,i=[],a=r,s=o(e);try{for(s.s();!(n=s.n()).done;){var c,l=o((0,n.value)(t,a));try{for(l.s();!(c=l.n()).done;){var u=c.value;i.push(a=u)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){s.e(e)}finally{s.f()}return i}:e}function J(e){return function(e){return e.direction in _}(e)?function(e){var t=e.start,r=e.direction,n=e.length;return function(e,i){var o=[],a=e(null!=t?t:i);!t&&i&&(a=F(a,r));for(var s=0;s<n;s++)o.push(a),a=F(a,r);return o}}(e):function(e){var t=e.start,r=e.stop;return function(e,n){for(var i=[],o=e(null!=t?t:n),a=function(e,t){return function(r){return{q:e.q*(1-r)+t.q*r,r:e.r*(1-r)+t.r*r}}}(z(o),z(D(o,r))),s=L(o,o,r),c=1/Math.max(s,1),l=!t&&n?1:0;l<=s;l++){var u=W(a(c*l));i.push(e(u))}return i}}(e)}function z(e){return{q:e.q+1e-6,r:e.r+1e-6,s:e.s+-2e-6}}function K(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).includeSource,n=void 0===r||r;return function(r,i){var a,s=[],c=o(G(e)(r,i));try{for(c.s();!(a=c.n()).done;){var l=a.value;n&&s.push(l);var u,h=o(G(t)(r,l));try{for(h.s();!(u=h.n()).done;){var f=u.value;s.push(f)}}catch(e){h.e(e)}finally{h.f()}}}catch(e){c.e(e)}finally{c.f()}return s}}_.E,_.N,_.S,_.W;function X(e){var t=e.center,r=e.rotation,n=void 0===r?V.CLOCKWISE:r;return function(r,i){var o,a,s=n.toUpperCase(),c=[],l=e.radius,u=w(l);u?a=r(t).translate({q:l,s:-l}):l=L(a=r(null!==(o=e.start)&&void 0!==o?o:i),t,a);var h=D(a,t),f=r({q:h.q,r:h.r-l,s:h.s+l});if(s===V.CLOCKWISE)for(var d=0;d<6;d++)for(var y=0;y<l;y++){var p=B[d],m=p.q,g=p.r;f=r({q:f.q+m,r:f.r+g}),c.push(f)}else for(var v=5;v>=0;v--)for(var x=0;x<l;x++){var b=B[v],k=b.q,O=b.r;f=r({q:f.q-k,r:f.r-O}),c.push(f)}var S=!u&&!e.start&&i,q=c.findIndex(function(e){return e.equals(a)});return c.slice(q+(S?1:0)).concat(c.slice(0,q))}}var B=[{q:1,r:0},{q:0,r:1},{q:-1,r:1},{q:-1,r:0},{q:0,r:-1},{q:1,r:-1}];function Z(e){var t=e.radius,r=e.start,n=e.rotation;return function(e,i){var o,a=null!==(o=null!=r?r:i)&&void 0!==o?o:[0,0],s=!r&&i?t:t+1;return K(J({start:r,direction:_.N,length:s}),X({center:a,rotation:n}))(e,i)}}var Q=new WeakMap,ee=new WeakMap,te=new WeakSet,re=function(){function a(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(h(this,a),function(e,r){t(e,r),r.add(e)}(this,te),e(this,Q,void 0),e(this,ee,new Map),o instanceof a)return r(Q,this,n(Q,o)),void this.setHexes(o);r(Q,this,o),this.setHexes(i(te,this,ie).call(this,s))}return d(a,[{key:"size",get:function(){return n(ee,this).size}},{key:"pixelWidth",get:function(){if(0===this.size)return 0;var e=this.hexPrototype,t=e.isPointy,r=e.width,n=this.toArray(),i=t?n.sort(function(e,t){return t.s-e.s||e.q-t.q}):n.sort(function(e,t){return e.q-t.q}),o=i[0];return i[i.length-1].x-o.x+r}},{key:"pixelHeight",get:function(){if(0===this.size)return 0;var e=this.hexPrototype,t=e.isPointy,r=e.height,n=this.toArray(),i=t?n.sort(function(e,t){return e.r-t.r}):n.sort(function(e,t){return t.s-e.s||e.r-t.r}),o=i[0];return i[i.length-1].y-o.y+r}},{key:Symbol.iterator,value:function(){return n(ee,this).values()}},{key:"hexPrototype",get:function(){return n(Q,this).prototype}},{key:"createHex",value:function(e){return new(n(Q,this))(e)}},{key:"getHex",value:function(e){var t=this.createHex(e);return n(ee,this).get(t.toString())}},{key:"hasHex",value:function(e){return n(ee,this).has(e.toString())}},{key:"setHexes",value:function(e){var t,r=o(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=a instanceof j?a:new(n(Q,this))(a);i(te,this,ne).call(this,s)}}catch(e){r.e(e)}finally{r.f()}return this}},{key:"filter",value:function(e){var t,r=new a(n(Q,this)),s=o(this);try{for(s.s();!(t=s.n()).done;){var c=t.value;e(c)&&i(te,r,ne).call(r,c)}}catch(e){s.e(e)}finally{s.f()}return r}},{key:"map",value:function(e){var t,r=new a(n(Q,this)),s=o(this);try{for(s.s();!(t=s.n()).done;){var c=t.value;i(te,r,ne).call(r,e(c))}}catch(e){s.e(e)}finally{s.f()}return r}},{key:"traverse",value:function(e){var t,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).bail,s=void 0!==r&&r,c=new a(n(Q,this)),l=o(i(te,this,ie).call(this,e));try{for(l.s();!(t=l.n()).done;){var u=t.value,h=this.getHex(u);if(h)i(te,c,ne).call(c,h);else if(s)return c}}catch(e){l.e(e)}finally{l.f()}return c}},{key:"forEach",value:function(e){var t,r=o(this);try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}return this}},{key:"reduce",value:function(e,t){if(void 0===t){var r,n,i,a,s=o(this);try{for(s.s();!(a=s.n()).done;){var c=a.value;n=i,i=c,n&&(r=e(n,i))}}catch(e){s.e(e)}finally{s.f()}return r}var l,u=t,h=o(this);try{for(h.s();!(l=h.n()).done;)u=e(u,l.value)}catch(e){h.e(e)}finally{h.f()}return u}},{key:"toArray",value:function(){return Array.from(this)}},{key:"toJSON",value:function(){var e=this.hexPrototype;return{hexSettings:{dimensions:e.dimensions,orientation:e.orientation,origin:e.origin,offset:e.offset},coordinates:this.toArray()}}},{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.size,")")}},{key:"pointToHex",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOutside,r=void 0===t||t,n=function(e,t){var r=e.dimensions,n=r.xRadius,i=r.yRadius,o=e.origin,a=e.orientation,s=t.x,c=t.y;return s+=o.x,c+=o.y,a===P.POINTY?W({q:Math.sqrt(3)*s/(3*n)-c/(3*i),r:2/3*(c/i)}):W({q:2/3*(s/n),r:Math.sqrt(3)*c/(3*i)-s/(3*n)})}(this.hexPrototype,e),i=this.getHex(n);return r?null!=i?i:this.createHex(n):i}},{key:"distance",value:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowOutside;if(void 0===r||r)return L(this.hexPrototype,e,t);var n=this.getHex(e),i=this.getHex(t);return n&&i?L(this.hexPrototype,n,i):void 0}},{key:"neighborOf",value:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowOutside,n=void 0===r||r,i=F(this.createHex(e),t),o=this.getHex(i);return n?null!=o?o:i:o}}],[{key:"fromIterable",value:function(e){var t=e[Symbol.iterator]().next().value;if(!t)throw new TypeError("Can't create grid from empty iterable: ".concat(JSON.stringify(e)));return new a(t.constructor,e)}},{key:"fromJSON",value:function(e,t){var r=e.hexSettings,n=e.coordinates;if(t){var i=n.map(t);return new a(i.length>0?i[0].constructor:t({q:0,r:0},0,[{q:0,r:0}]).constructor,i)}var o=U(r);return new a(o,n.map(function(e){return new o(e)}))}}])}();function ne(e){n(ee,this).set(e.toString(),e)}function ie(e){return i(te,this,oe).call(this,e)?i(te,this,ae).call(this,e):Array.isArray(e)&&i(te,this,oe).call(this,e[0])?i(te,this,ae).call(this,G(e)):e}function oe(e){return"function"==typeof e}function ae(e){return e(this.createHex.bind(this))}const se=200,ce=-2*Math.max(window.visualViewport.width,window.visualViewport.height);class le extends U({dimensions:100,orientation:P.FLAT,origin:"topLeft"}){f_cost;h_cost;g_cost}const ue=new re(le,(he={width:15,height:6},function(e,t){var r,n=he.width,i=he.height,o=he.start,a=he.direction,s=void 0===a?_.E:a,c=null!==(r=null!=o?o:t)&&void 0!==r?r:[0,0],l=K(J({start:c,direction:S(s,2),length:i}),J({direction:s,length:n-1}))(e,c);return!o&&t?l.slice(1):l}));var he;const fe=(()=>{function e(_ref){let{scene:e,hex:t}=_ref;const r=new Map;let n,i;Object.defineProperties(this,{claims:{enumerable:!0,get:()=>(e,t)=>e instanceof ye?(Number.isInteger(t)&&r.set(e,(r.get(e)||0)+t),r.get(e)||0):r},hex:{get:()=>t},player:{enumerable:!0,get:()=>{const e={player:null,claim:0};return r.forEach((t,r)=>{e.claim<t&&(e.player=r,e.claim=t)}),e.player}},improvement:{enumerable:!0,get:()=>n||{},set:r=>"destroy"===r?("object"==typeof n&&n.image instanceof Phaser.GameObjects.Image&&n.image.destroy(),n=void 0,!0):!!Object.keys(json.world.improvements).includes(r)&&(n=Object.assign({},json.world.improvements[r],{image:e.add.image(t.x,t.y,`improvements.${r}`).setDepth(5),key:r}),!0)},road:{enumerable:!0,get:()=>i||{},set:r=>"destroy"===r?("object"==typeof i&&i.image instanceof Phaser.GameObjects.Image&&i.image.destroy(),i=void 0,!0):!!Object.keys(json.world.improvements).includes(r)&&(i=Object.assign({},json.world.roads[r],{image:e.add.image(t.x,t.y,`improvements.${r}`).setDepth(6),key:r}),!0)}})}return Object.assign(e.prototype,{claimTerritory(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(Number.isFinite(t)&&0!==t){let r;this.player instanceof ye&&(r=this.player.index),this.claims(e,t),this.player instanceof ye&&this.player.index!==r&&pe.markTerritory(this.hex)}}}),e})();function de(){let{col:e,row:t,scene:r,level:n=1,player:i}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const o=ue.getHex({row:t,col:e});o.tile.improvement="destroy";const a=r.add.image(o.x,o.y,"cities",i.frame).setDepth(10).setScale(.8);o.city=this,ue.traverse(Z({start:[o.q,o.r],radius:1})).forEach(e=>{e.tile.claimTerritory(i,100)}),ue.traverse(X({center:[o.q,o.r],radius:2})).forEach(e=>{e.terrain.isWater&&e.tile.claimTerritory(i,50)}),this.housing=(()=>{switch(n){case 1:return 3;case 2:return 6}return 0})(),Object.defineProperties(this,{hex:{enumerable:!0,get:()=>o},player:{enumerable:!0,get:()=>i},sprite:{get:()=>a},level:{enumerable:!0,get:()=>this.level},housing:{enumerable:!0,get:()=>this.housing}})}Object.assign(de.prototype,{});const ye=(()=>{let e=null;function t(t){let r=0;const n=[];Object.defineProperties(this,{food:{enumerable:!0,get:()=>r,set(e){Number.isInteger(e)&&e>=0&&(r=e)}},frame:{enumerable:!0,get:()=>t%3},index:{enumerable:!0,get:()=>t},units:{enumerable:!0,get:()=>n},activeUnit:{enumerable:!0,get(){if(Number.isInteger(e)&&e>=0&&e<=n.length)return n[e]},set:t=>Number.isInteger(t)&&t>=0?t>=n.length?(e=t%n.length,!0):(e=t,!0):(null===t&&(e=null),!1)},color:{enumerable:!0,get(){switch(t%3){case 0:return 16711680;case 1:return 65280;case 2:return 255;default:return 11184810}}}})}return Object.assign(t.prototype,{addUnit(e,t,r,n){this.units.push(new we(e,{row:t,col:r,scene:n,player:this}))},checkEndTurn(){console.log("Sam, checkEndTurn"),this.activateNext()||pe.endTurn()},activateUnit(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e;if(0===this.units.length)return void this.checkEndTurn();const r=this.units[t];if(!(r instanceof we))throw new TypeError(`Player does not have unit ${t}`);r.activate(),e=t},activateNext(){for(let t=e+1;t<this.units.length;t++)if(this.units[t]instanceof we&&this.units[t].moves>0)return this.activateUnit(t),!0;for(let t=0;t<=e;t++)if(this.units[t]instanceof we&&this.units[t].moves>0)return this.activateUnit(t),!0;return!1}}),t})(),pe={players:[new ye(0),new ye(1),new ye(2)],turn:0,activeUnit:null,currentPlayer:null,intCurrentPlayer:null,sprActiveUnit:null,graphics:{},startRound(){this.players.forEach(e=>{e.food=0}),ue.forEach(e=>{if(this.players.forEach(t=>{e.tile.player===t?e.tile.claimTerritory(t,1):e.tile.claims(t)>0&&e.tile.claimTerritory(t,-1)}),e.tile.player instanceof ye){let t=0;t+=e.terrain.food||0,t+=e.tile.improvement.food||0,e.tile.player.food+=t}if(e.city instanceof de){const t=e.city;console.log("Sam, startRound, city:",t),ue.traverse(Z({start:[e.q,e.r],radius:2})).forEach(e=>{})}}),this.turn++,console.log("Sam, startRound",this.turn),this.startTurn(0)},startTurn(e){if(!Number.isFinite(e))throw new TypeError(`Unknown player ${e}`);if(this.currentPlayer=this.players[e],!(this.currentPlayer instanceof ye))throw new TypeError(`Player ${e} is not a Player Object`);this.intCurrentPlayer=e,this.currentPlayer.units.forEach(e=>{e.moves=e.base.movementPoints}),this.currentPlayer.activateUnit(0)},markTerritory(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{graphics:this.graphics.territoryLines,lineShift:.97,offsetX:0,offsetY:0};(e instanceof j?[e]:ue).forEach(e=>{if(!(e.tile instanceof fe&&e.tile.player instanceof ye))return;t.graphics.lineStyle(5,e.tile.player.color),t.graphics.beginPath();const[r,...n]=e.corners.map(r=>me(r,e,t.lineShift));t.graphics.moveTo(r.x+t.offsetX,r.y+t.offsetY),n.forEach(_ref2=>{let{x:e,y:r}=_ref2;t.graphics.lineTo(e+t.offsetX,r+t.offsetY)}),t.graphics.closePath(),t.graphics.strokePath()})},endTurn(){console.log("Sam, endTurn!"),this.intCurrentPlayer++,this.intCurrentPlayer>=this.players.length?this.endRound():this.startTurn(this.intCurrentPlayer)},endRound(){console.log("Sam, endRound!"),this.startRound()},closeUnitActionMenu(){this.domContainer.innerHTML=""}};function me(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.9;const n=(e.y-t.y)/(e.x-t.x),i=e.y-n*e.x,o=(e.x-t.x)*r+t.x;return{x:o,y:n*o+i}}function ge(e,t,r){switch(e){case"u":r%2==0&&t--,r--;break;case"i":t--;break;case"o":r%2==0&&t--,r++;break;case"j":r%2==1&&t++,r--;break;case"k":t++;break;case"l":r%2==1&&t++,r++}return[t,r]}function ve(){for(pe.sprActiveUnit.setActive(!1).setPosition(ce,ce).setDepth(0),xe.graphics.destroy();xe.text.length>0;)xe.text.pop().destroy()}function we(e,_ref3){let{row:t,col:r,scene:n,player:i}=_ref3;const o=json.world.units[e];if("object"!=typeof o||null===o)throw new TypeError(`Unknown unit '${e}'`);const{x:a,y:s}=ue.getHex({row:t,col:r}),c=n.add.sprite(a,s,`unit.${e}`).setDepth(11);this.col=r,this.row=t,this.path=[],Object.defineProperties(this,{base:{enumerable:!0,get:()=>o},hex:{enumerable:!0,get:()=>ue.getHex({row:this.row,col:this.col})},player:{enumerable:!0,get:()=>i},scene:{enumerable:!0,get:()=>n},sprite:{enumerable:!0,get:()=>c},unitType:{enumerable:!0,get:()=>e}})}const xe={text:[]};function be(e){Object.defineProperties(this,{text:{enumerable:!0,get(){switch(typeof e.text){case"function":return e.text;case"text":return()=>e.text}return()=>"[action text missing]"}},isValidOption:{enumerable:!0,get:()=>"function"==typeof e.isValidOption?e.isValidOption:()=>!0}})}Object.assign(we.prototype,{activate(){const e=ue.getHex({row:this.row,col:this.col});pe.sprActiveUnit.setActive(!0).setPosition(e.x,e.y).setDepth(99);const t=me(this.scene.cameras.main.getScroll(e.x,e.y),{x:this.scene.cameras.main.scrollX,y:this.scene.cameras.main.scrollY},.2);setTimeout(()=>{this.scene.cameras.main.setScroll(t.x,t.y),setTimeout(()=>{this.scene.cameras.main.getScroll(e.x,e.y),this.scene.cameras.main.pan(e.x,e.y,500,"Linear",!0)},0)},0),this.sprite.setDepth(100),Array.isArray(this.path)&&this.path.length>0?this.moves>0?this.doAction("moveTo",this.path.shift()):this.deactivate(!0):0===this.player.index?(xe.graphics=pe.scenes.getScene("mainGameScene").add.graphics({x:0,y:0}).setDepth(97),xe.graphics,["L","K","J","U","I","O"].forEach(e=>{const[t,r]=ge(e.toLowerCase(),this.row,this.col);if(Oe(this,t,r)){const n=ue.getHex({row:t,col:r});xe.text.push(pe.scenes.getScene("mainGameScene").add.text(n.x-100,n.y+se/6,e,{fixedWidth:se,font:"25pt Trebuchet MS",align:"center",color:"khaki",stroke:"black",strokeThickness:7}).setOrigin(0).setDepth(98))}}),pe.activeUnit=this,this.scene.input.keyboard.enabled=!0):this.deactivate(!0)},deactivate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;!0===e&&(this.moves=0),ve(),this.sprite.setDepth(11),pe.activeUnit=null,this.scene.input.keyboard.enabled=!1,pe.currentPlayer.checkEndTurn()},doAction(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(pe.closeUnitActionMenu(),"w"!==e&&"Tab"!==e){if("s"!==e){if("city"===e&&t instanceof j)pe.scenes.start("city-view",{hex:t});else{if("moveTo"===e&&t instanceof j){if(1===ue.distance(this.hex,t))this.moveTo(t);else{const e=function(e,t,r){let n=[],i=[],o=0,a=!1;for(t.parent=void 0,n.push(t),t.g_cost=0;n.length>0;){const t=n.sort((e,t)=>e.f_cost-t.f_cost||e.h_cost-t.h_cost)[0];if(t===r){console.log("Sam,",`Found target after exploring ${o} hexes.`),a=!0;break}n=n.filter(e=>t!==e),i.push(t),ue.traverse(X({center:[t.q,t.r],radius:1})).forEach(a=>{i.includes(a)||Oe(e,a.row,a.col)&&(a.g_cost=t.g_cost+e.base.movementCosts[a.terrain.terrain],a.h_cost=ue.distance(t,r),a.f_cost=a.g_cost+a.h_cost,n.includes(a)||(a.parent=t,o++,n.push(a)))})}if(!a)return void console.warn("Sam,",`Ran out of hexes to explore after exploring ${o} hexes.`);const s=[r];let c=r;do{c=c.parent,c!==t&&s.unshift(c)}while(c.parent instanceof j);return s}(this,this.hex,t);if(!Array.isArray(e)||0===e.length)return void console.warn("Sam, no path found!");Array.isArray(e)&&(this.path=e)}}else if(["u","i","o","j","k","l"].includes(e)){const[t,r]=ge(e,this.row,this.col);this.moveTo(ue.getHex({row:t,col:r}))}else if("c"===e){const e=ue.getHex({row:this.row,col:this.col});if(!ke.c.isValidOption({hex:e,player:this.player}))return void console.warn("Sam, you own this already");e.tile.claimTerritory(this.player,10),this.moves--}else{const t=ue.getHex({row:this.row,col:this.col});switch(this.unitType){case"settler":if("b"===e){if(!ke.b.isValidOption({hex:t}))return void console.warn("Cannot place city adjacent to another city");new de({col:this.col,row:this.row,player:this.player,scene:this.scene});const e=this.player.units.indexOf(this);return e>=0&&this.player.units.splice(e,1),this.deactivate(),void this.sprite.destroy()}break;case"worker":switch(e){case"f":return ke.f.isValidOption({hex:t})?(t.tile.improvement="farm",void this.deactivate(!0)):void console.warn("Cannot place farm here");case"C":if(!ke.C.isValidOption({hex:t}))return;if("farm"===t.tile.improvement.key)return t.tile.improvement="destroy",void this.deactivate(!0)}}}this.moves>0?this.player.activateUnit():this.deactivate()}}else this.deactivate(!0);}else this.deactivate()},moveTo(e){e instanceof j&&Oe(this,e.row,e.col)&&(ve(),this.row=e.row,this.col=e.col,this.sprite.setPosition(e.x,e.y).setDepth(11),this.moves-=this.base.movementCosts[e.terrain.terrain])}}),Object.assign(be.prototype,{});const ke=[{key:"moveTo",text:_ref4=>{let{hex:e}=_ref4;return e instanceof j?`Move to ${e.row}×${e.col}`:"Move here"},isValidOption:_ref5=>{let{hex:e}=_ref5;return!1}},{key:"city",text:()=>"View city",isValidOption:_ref6=>{let{hex:e}=_ref6;return!1}},{key:"b",text:()=>"<u>B</u>uild city",isValidOption:_ref7=>{let{hex:e}=_ref7;return!(e.terrain.isWater||ue.traverse(Z({start:[e.q,e.r],radius:1})).filter(e=>"object"==typeof e.city&&null!==e.city).size>0)}},{key:"c",text:()=>"<u>C</u>laim territory",isValidOption:_ref8=>{let{hex:e,player:t}=_ref8;return e.tile.player!==t}},{key:"C",text:()=>"Clear land <kbd>Shift+C</kbd>",isValidOption:_ref9=>{let{hex:e}=_ref9;return["farm"].includes(e.tile.improvement.key)}},{key:"f",text:()=>"Build <u>f</u>arm",isValidOption:_ref10=>{let{hex:e}=_ref10;return!(!["swamp","desert","grass","hill"].includes(e.terrain.terrain)||e.city instanceof de||"farm"===e.tile.improvement.key)}},{key:"w",text:()=>"<u>W</u>ait"},{key:"s",text:()=>"<u>S</u>tay here"},{key:"",text:()=>"Cancel"}].reduce((e,t)=>Object.assign(e,{[t.key]:new be(t)}),{});function Oe(e,t,r){const n=ue.getHex({row:t,col:r});if(!(n instanceof j))return!1;if(n.city instanceof de&&n.city.player.index!==e.player.index&&(!e.attack||!e.attackCities))return!1;const i=e.base.movementCosts[n.terrain.terrain];return!!Number.isFinite(i)&&i<=e.moves}function Se(e){if(!(e instanceof j))return;const t=[];if(pe.activeUnit instanceof we)if(console.log("Sam, unit, current location:",pe.activeUnit.hex.row,pe.activeUnit.hex.col),pe.activeUnit.hex.row==e.row&&pe.activeUnit.hex.col==e.col){switch(pe.activeUnit.unitType){case"settler":ke.b.isValidOption({hex:e})&&t.push("b");break;case"worker":["f","C"].forEach(r=>{ke[r].isValidOption({hex:e})&&t.push(r)})}ke.c.isValidOption({hex:e,player:pe.activeUnit.player})&&t.push("c")}else Oe(pe.activeUnit,e.row,e.col)&&t.push("moveTo");if(e.city instanceof de&&t.push("city"),pe.activeUnit.hex.row===e.row&&pe.activeUnit.hex.col===e.col&&t.push("w","s"),0===t.length)return void pe.closeUnitActionMenu();if(1===t.length)switch(t[0]){case"moveTo":if(1===ue.distance(pe.activeUnit.hex,e))return void pe.activeUnit.doAction("moveTo",e);break;case"city":return console.log("Sam, only action is city-view"),void pe.scenes.start("city-view",{hex:e})}pe.domContainer.innerHTML="";const r=document.createElement("div");r.classList.add("menu"),t.concat([""]).forEach(t=>{const n=document.createElement("button");n.innerHTML=ke[t].text({hex:e}),n.addEventListener("click",()=>{pe.activeUnit.doAction(t,e)}),n.style.pointerEvents="auto",r.appendChild(n)}),r.style.pointerEvents="auto",pe.domContainer.appendChild(r),pe.domContainer.style.zIndex=1}console.log("Sam, Actions:",ke);const qe=.5,Te={type:Phaser.AUTO,height:window.visualViewport.height/qe,width:window.visualViewport.width/qe,zoom:qe,backgroundColor:"#71ABFF",scene:{key:"mainGameScene",preload(){Object.entries(json.world.terrains).forEach(_ref11=>{let[e,t]=_ref11;this.load.image(`tile.${e}`,`img/tiles/${t.tile}.png`)}),this.load.spritesheet("cities","img/tiles/cities.png",{frameHeight:200,frameWidth:200}),Object.entries(json.world.improvements).forEach(_ref12=>{let[e,t]=_ref12;this.load.image(`improvements.${e}`,`img/improvements/${t.tile}.png`)}),this.load.image("activeUnit","img/activeUnit.png"),Object.keys(json.world.units).forEach(e=>{this.load.image(`unit.${e}`,`img/units/${e}.png`)})},create(){pe.graphics={...pe.graphics,territoryLines:this.add.graphics({x:0,y:0}).setDepth(2)},ue.forEach(e=>{const t=json.world.world[e.row][e.col];Object.assign(e,t,{tile:new fe({scene:this,hex:e}),terrain:{...json.world.terrains[t.terrain],terrain:t.terrain},sprite:this.add.image(e.x,e.y,`tile.${t.terrain}`).setDepth(1).setInteractive(new Phaser.Geom.Polygon(ue.getHex({row:0,col:0}).corners),Phaser.Geom.Polygon.Contains),text:this.add.text(e.x-100,e.y+se/3.6,e.row+"\xD7"+e.col,{fixedWidth:se,font:"12pt Trebuchet MS",align:"center",color:"white"}).setOrigin(0)})}).forEach(e=>{"object"==typeof e.city&&null!==e.city&&(e.city=new de({...e.city,col:e.col,row:e.row,scene:this,player:pe.players[e.city.player]})),"string"==typeof e.improvement&&(e.tile.improvement=e.improvement)}),pe.sprActiveUnit=this.add.image(ce,ce,"activeUnit").setActive(!1);{const e=ue.pixelWidth,t=ue.pixelHeight,r=window.visualViewport.width/qe/2,n=window.visualViewport.height/qe/2;this.cameras.main.setBounds(-r,-n,e+2*r,t+2*n);const i=this.cameras.add(window.visualViewport.width/qe-800,window.visualViewport.height/qe-400,800,400);i.setZoom(.2).setName("mini").setBackgroundColor(0),i.centerOn(ue.pixelWidth/2,ue.pixelHeight/2)}this.input.on("pointerdown",e=>{Se(ue.pointToHex({x:e.worldX,y:e.worldY}))}),pe.players[0].addUnit("settler",2,3,this),pe.players[0].addUnit("warrior",2,3,this),pe.players[0].addUnit("worker",2,3,this),pe.players[2].addUnit("warrior",2,8,this),console.log("Sam, players:",pe.players),console.log("Sam, unit 1:",pe.players[0].units[0]),this.input.keyboard.on("keydown",e=>{if(!(e.ctrlKey&&["r","1","2","3","4","5","6","7","8","9"].includes(e.key)||e.ctrlKey&&"I"===e.key)){switch(e.preventDefault(),e.key){case"ArrowUp":return void(this.cameras.main.scrollY-=25);case"ArrowDown":return void(this.cameras.main.scrollY+=25);case"ArrowLeft":return void(this.cameras.main.scrollX-=25);case"ArrowRight":return void(this.cameras.main.scrollX+=25);case"ContextMenu":case" ":return void(pe.activeUnit instanceof we&&Se(pe.activeUnit.hex))}!function(e){pe.currentPlayer===pe.players[0]&&!e.repeat&&pe.activeUnit instanceof we&&pe.activeUnit.doAction(e.key)}(e)}}).enabled=!1,pe.startRound(),this.events.on("pause",()=>{console.log("Sam, mainGameScene paused"),pe.scenes.sleep("mainControls"),ve()}),this.events.on("resume",()=>{console.log("Sam, mainGameScene resumed"),pe.scenes.wake("mainControls"),pe.currentPlayer.activateUnit()}).on("wake",()=>{console.log("Sam, mainGameScene woken"),pe.scenes.wake("mainControls"),pe.currentPlayer.activateUnit()})},update(){}}};yodasws.page("pageGame").setRoute({template:"pages/game/game.html",canonicalRoute:"/game/",route:"/game/?"}).on("load",()=>{const e=new Phaser.Game(Object.assign({},Te,{parent:document.querySelector("main"),dom:{createContainer:!0}}));e.scene.add("mainControls",{preload(){},create(){const e=pe.graphics.mainControls=this.add.graphics({x:0,y:0});e.fillStyle(0,.5),e.fillRect(0,0,Te.width,200),this.input.keyboard.on("keydown",e=>{switch(e.preventDefault(),e.key){case"F1":case"F4":case"F5":break;case"F2":pe.graphics.gfxClaims.destroy();break;case"F3":{const e=pe.graphics.gfxClaims=pe.scenes.getScene("mainGameScene").add.graphics({x:0,y:0}).setDepth(1);ue.forEach(t=>{t.tile instanceof fe&&t.tile.claims()instanceof Map&&t.tile.claims().forEach((r,n)=>{if(t.tile.player===n)return;e.lineStyle(3,n.color),e.beginPath();const[i,...o]=t.corners.map(e=>me(e,t,.9));e.moveTo(i.x,i.y),o.forEach(_ref13=>{let{x:t,y:r}=_ref13;e.lineTo(t,r)}),e.closePath(),e.strokePath()})});break}}})},update(){}},!0),e.scene.moveAbove("mainGameScene","mainControls"),e.scene.add("city-view",{preload(){},create(t){if(!(t.hex instanceof j&&t.hex.tile instanceof fe))return void e.scene.resume("mainGameScene");console.log("Sam, city-view created"),e.scene.pause("mainGameScene");{const e=this.add.graphics({x:0,y:0}).setDepth(0);e.fillStyle(0,.5),e.fillRect(0,0,Te.width,Te.height)}const r=this.add.graphics({x:0,y:0}).setDepth(1);r.fillStyle(0,1),r.fillRect(Te.width-100,0,100,100),this.add.text(0,0,"\xD7 ",{fixedWidth:Te.width,font:"60pt Trebuchet MS",align:"right",color:"white",stroke:"black",strokeThickness:7}).setDepth(2).setInteractive().on("pointerdown",()=>{e.scene.stop("city-view")});const[n,i]=[t.hex.x,t.hex.y],o=Math.min(Te.height,Te.width)/7/se,a=Te.width/2,s=Te.height/3;ue.traverse(Z({start:[t.hex.q,t.hex.r],radius:2})).forEach(e=>{const t={x:(e.x-n)*o+a,y:(e.y-i)*o+s},c=this.add.image(t.x,t.y,`tile.${e.terrain.terrain}`).setDepth(1);c.scaleX=o,c.scaleY=o,pe.markTerritory(e,{offsetX:0-e.x+a+(e.x-n)*o,offsetY:0-e.y+s+(e.y-i)*o,graphics:r.setDepth(2),lineShift:1.1});const l=se*o;this.add.text(t.x-l/2,t.y+l/4,`Food: ${(e.terrain.food||0)+(e.tile.improvement.food||0)}`,{font:"14pt Trebuchet MS",align:"center",color:"white",stroke:"black",strokeThickness:7,fixedWidth:l}).setDepth(3)}),this.input.keyboard.enabled=!0,this.input.keyboard.on("keydown",t=>{"Escape"===t.key&&e.scene.stop("city-view")}),this.events.on("sleep",()=>{console.log("Sam, city-view sleep"),e.domContainer.innerHTML="",e.scene.wake("mainGameScene")}).on("shutdown",()=>{console.log("Sam, city-view shutdown"),e.domContainer.innerHTML="",e.scene.wake("mainGameScene")})},update(){}}),setTimeout(()=>{},1e3),e.scene.add("main-menu",{preload(){},create(){},update(){}}),e.scene.add("tech-tree",{preload(){},create(){},update(){}}),Object.assign(pe,{scenes:e.scene,domContainer:e.domContainer}),console.log("Sam, scenes:",e.scene.scenes),e.domContainer.classList.add("game")})},692:e=>{"use strict";e.exports=JSON.parse("{\"improvements\":{\"farm\":{\"food\":1,\"tile\":\"farm\"}},\"terrains\":{\"desert\":{\"food\":0,\"tile\":\"desert\"},\"grass\":{\"food\":1,\"tile\":\"grass\"},\"hill\":{\"food\":1,\"tile\":\"grass\"},\"lake\":{\"food\":1,\"isWater\":true,\"tile\":\"lake\"},\"mountain\":{\"food\":0,\"tile\":\"mountains\"},\"ocean\":{\"food\":1,\"isWater\":true,\"tile\":\"ocean\"},\"swamp\":{\"food\":0,\"isWater\":true,\"tile\":\"swamp\"}},\"units\":{\"settler\":{\"movementPoints\":1,\"movementCosts\":{\"desert\":1,\"grass\":1,\"hill\":1,\"lake\":1,\"mountain\":false,\"ocean\":false,\"swamp\":false}},\"warrior\":{\"attack\":1,\"attackCities\":true,\"movementPoints\":1,\"movementCosts\":{\"desert\":1,\"grass\":1,\"hill\":1,\"lake\":false,\"mountain\":1,\"ocean\":false,\"swamp\":1}},\"worker\":{\"movementPoints\":1,\"movementCosts\":{\"desert\":1,\"grass\":1,\"hill\":1,\"lake\":1,\"mountain\":1,\"ocean\":false,\"swamp\":1}}},\"world\":[[{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"},{\"terrain\":\"ocean\"}],[{\"terrain\":\"grass\"},{\"terrain\":\"swamp\",\"river\":true},{\"terrain\":\"lake\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"lake\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"}],[{\"terrain\":\"desert\"},{\"terrain\":\"desert\",\"river\":true},{\"terrain\":\"desert\"},{\"terrain\":\"hill\",\"city\":{\"player\":0,\"level\":2}},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"mountain\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\",\"city\":{\"player\":2,\"level\":2}},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"}],[{\"terrain\":\"hill\"},{\"terrain\":\"mountain\"},{\"terrain\":\"hill\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"mountain\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\",\"city\":{\"player\":1,\"level\":2}},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"}],[{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"mountain\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"}],[{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"mountain\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"},{\"terrain\":\"grass\"}]]}")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}window.json={},r(357),json.world=r(692),yodasws.page("home").setRoute({template:"pages/home.html",route:"/"}).on("load",()=>{})})();